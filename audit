General System Security
-----------
sudo apt update && sudo apt upgrade

https://www.cyberciti.biz/faq/how-to-set-up-automatic-updates-for-ubuntu-linux-18-04/
sudo apt install unattended-upgrades apt-listchanges bsd-mailx
sudo dpkg-reconfigure -plow unattended-upgrades
vi /etc/apt/apt.conf.d/50unattended-upgrades; Unattended-Upgrade::Automatic-Reboot "false";
sudo unattended-upgrades --dry-run


apt install -y libpam-cracklib 
vim /etc/pam.d/common-password 
password        requisite     pam_cracklib.so try_first_pass retry=3 minlen=8 dcredit=0 ucredit=1 ocredit=0 lcredit=0


vi /etc/ssh/sshd_config

AllowUsers celo
AllowGroups celo

chmod 750 /etc/sudoers
chmod 750 /home/celo


/etc/security/limits.conf
*               hard    core             0
echo 'fs.suid_dumpable = 0' >> /etc/sysctl.conf
sysctl -p

apt remove binutils-x86-64-linux-gnu gcc; apt autoremove

vi /etc/ssh/sshd_config
AllowTcpForwarding no
ClientAliveCountMax 2
Compression no
LogLevel VERBOSE
MaxAuthTries 3
MaxSessions 2
TCPKeepAlive no
X11Forwarding no
AllowAgentForwarding no

service ssh restart

apt install rkhunter -y
 
apt install debsums apt-show-versions

Change ssh port +  allow ufw

/etc/issue si /etc/issue.net
WARNING: This computer system including all related equipment, network devices (specifically including Internet access), are provided only for authorized use. All computer systems may be monitored for all lawful purposes, including to ensure that their use is authorized, for management of the system, to facilitate protection against unauthorized access, and to verify security procedures, survivability and operational security.

/etc/login.defs
umask 027

sudo apt-get purge $(dpkg -l | grep '^rc' | awk '{print $2}')

vi /etc/modprobe.d/blacklist.conf
install cramfs /bin/true
install freevxfs /bin/true
install hfs /bin/true
install hfsplus /bin/true
install jffs2 /bin/true
install udf /bin/true
blacklist usb-storage

vi /etc/usbguard/usbguard-daemon.conf 
PresentControllerPolicy=block
PresentDevicePolicy=block
